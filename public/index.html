<!DOCTYPE html>
<html>

	<head>
	<meta charset= "UTF-8">
	<title> Sign In </title>
	<link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href= "style3.css" />
	
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	
	<body>
	
		<div class="logo">
			<div class="logo-org">
				<h3> MCG </h3>
				<h1> (Make Card Game)</h1>
			</div>	
			<table>
			<td>
			<div class="signip">
			<table>
				<td>
				
				<div class="signip-org">
					<li><label>Email:</label>
					<input id="email" name="email" type="text" placeholder="Email"></li>

					<li><label id="p">Password:</label>
					<input id="pass" name="password" type="password" placeholder="Password" ></li>

					<p name="error-01" style="display: none;">Invalid Email or Password!</p>
					<p name="error-02" style="display: none;">Invalid Characteres</p>
					<p name="error-03" style="display: none;">Invalid Email!</p>

	
					<li><label><input type="checkbox" id="remember">Remember me</label></li>	
					<button type="submit" id ="btn-01">Login</button>
				</div>
				</td>
				<td>	
					<table class="social-icon">
						<li><a href="#" class="fa fa-facebook"></a></li>
						<li><a href="#" class="fa fa-twitter"></a></li>
						<li><a href="#" class="fa fa-google" id="google"></a></li>
					</table>
				</td>
				<div id="line"></div>
				<td>
					<div class="options">
						<p> New Here? </p>
					<button id="btn-02" type="submit" onclick="location.href='signup.html'">Create Account</button>
						<p> or </p>
					<button id="btn-03" type="submit" onclick="location.href='home.html'">Enter as a Visitor</button>
					</div>
				</td>
			</table>
				
			</ul>
			</div> <!-- signup -->	
						
			</td>		
		</div><!-- logo -->
	</form>
	
	</body>
	
	<script defer src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
	<script defer src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
	<script defer src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
	
	<script type="module">
		import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js';
		import { getAuth, signInWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js';
	const firebaseApp = initializeApp({
	  apiKey: "AIzaSyAR61dkpsiGFCQRzCQ4nkAbU0plC-kYslY",
	  authDomain: "make-cardgame.firebaseapp.com",
	  projectId: "make-cardgame",
	  storageBucket: "make-cardgame.appspot.com",
	  messagingSenderId: "1016341861949",
	  appId: "1:1016341861949:web:c95383455399adf6597c54",
	  measurementId: "G-RBP9Q9N1ES"
	});

			const auth = getAuth(firebaseApp);

		document.getElementById("btn-01").addEventListener("click", function(){

			const email = document.getElementById('email').value;
			const password = document.getElementById('pass').value;

			signInWithEmailAndPassword(auth, email, password)
  				.then((userCredential) => {
    			// Signed in
    		const user = userCredential.user;
			window.location.href= "/home.html";
    			// ...
  			})
  				.catch((error) => {
			console.log("Not Logged");
			document.querySelector('[name=error-01]').style='font-size: 12px;'+
															'color: red;'+
													 		'display: block;';
   			const errorCode = error.code;
    		const errorMessage = error.message;
			console.log(errorCode + errorMessage);
  			});
		})
	</script>

	</html>